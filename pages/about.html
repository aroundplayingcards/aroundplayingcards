<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cardistry | Around Playing Cards</title>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { font-family: 'Space Grotesk', sans-serif; background: #111; color: #fff; margin:0; }
    header { display: flex; justify-content: space-between; align-items: center; padding: 20px 40px; background: rgba(0,0,0,0.8); position: sticky; top: 0; z-index: 999; }
    .logo { font-size: 1.5rem; font-weight: 700; text-transform: uppercase; }
    nav a { color: #fff; margin-left: 30px; text-decoration: none; position: relative; transition: color 0.3s; }
    nav a:hover { color: #ffe082; }
    .about-main { max-width: 800px; margin: 60px auto 40px auto; background: rgba(24,24,24,0.92); border-radius: 18px; box-shadow: 0 8px 48px #0005; padding: 40px 32px; }
    h1 { color: #ffe082; font-size: 2.2rem; margin-bottom: 18px; }
    h2 { color: #c0c0c0; margin-top: 32px; }
    p { font-size: 1.15rem; line-height: 1.7; margin-bottom: 18px; }
    ul { margin: 18px 0 18px 24px; }
    .footer-lower { background: #000; color: #aaa; text-align: center; padding: 12px 0 8px 0; font-size: 0.95em; }
    canvas#fluid-bg {
      position: fixed;
      top: 0;
      left: 0;
      z-index: -1;
      width: 100vw;
      height: 100vh;
      opacity: 0.7;
      pointer-events: none;
      filter: blur(1.5px) brightness(1.2) saturate(1.5);
      transition: opacity 0.3s;
    }
    .cart-sidebar {
      position: fixed;
      top: 0;
      right: -400px;
      width: 400px;
      height: 100vh;
      background: #181818;
      color: #fff;
      box-shadow: -4px 0 24px rgba(0,0,0,0.25);
      z-index: 2000;
      transition: right 0.3s cubic-bezier(.4,0,.2,1);
      display: flex;
      flex-direction: column;
      padding: 0;
      border-radius: 22px 0 0 22px !important;
    }
    .cart-sidebar.active {
      right: 0;
      display: flex !important;
    }
    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 24px 24px 12px 24px;
      border-bottom: 1px solid #333;
    }
    .close-cart-btn {
      background: none;
      border: none;
      color: #fff;
      font-size: 2rem;
      cursor: pointer;
      transition: color 0.2s;
    }
    .close-cart-btn:hover {
      color: #c0c0c0;
    }
    .cart-items {
      flex: 1;
      overflow-y: auto;
      padding: 16px 24px;
    }
    .cart-item {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 18px;
      border-bottom: 1px solid #222;
      padding-bottom: 12px;
    }
    .cart-item img {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 8px;
      background: #222;
    }
    .cart-item-info {
      flex: 1;
    }
    .cart-item-title {
      font-weight: 600;
      margin-bottom: 4px;
    }
    .cart-item-price {
      color: #c0c0c0;
      font-size: 0.95rem;
      margin-bottom: 6px;
    }
    .cart-item-qty {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .qty-btn {
      background: #222;
      color: #fff;
      border: none;
      border-radius: 4px;
      width: 28px;
      height: 28px;
      font-size: 1.1rem;
      cursor: pointer;
      transition: background 0.2s;
    }
    .qty-btn:hover {
      background: #c0c0c0;
      color: #000;
    }
    .remove-item-btn {
      background: none;
      border: none;
      color: #ff5252;
      font-size: 1.2rem;
      cursor: pointer;
      margin-left: 8px;
    }
    .cart-footer {
      padding: 18px 24px;
      border-top: 1px solid #333;
      background: #181818;
    }
    .cart-total {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 16px;
    }
    .checkout-btn {
      width: 100%;
      padding: 14px;
      background: #c0c0c0;
      color: #000;
      border: none;
      border-radius: 8px;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.2s;
    }
    .checkout-btn:hover {
      background: #fff;
    }
    .cart-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.45);
      z-index: 1999;
      transition: opacity 0.3s;
    }
    .cart-overlay.active {
      display: block;
    }
    .timeline { margin: 40px 0 0 0; border-left: 3px solid #ffe082; padding-left: 24px; }
    .timeline-item { margin-bottom: 28px; position: relative; }
    .timeline-year { font-weight: bold; color: #ffe082; font-size: 1.2em; margin-bottom: 4px; }
    .timeline-desc { color: #c0c0c0; font-size: 1.08em; }
    .timeline-item:before {
      content: ''; position: absolute; left: -32px; top: 6px; width: 16px; height: 16px; background: #ffe082; border-radius: 50%; box-shadow: 0 2px 8px #ffe08255;
    }
  </style>
</head>
<body>
  <canvas id="fluid-bg"></canvas>
  <header>
    <div class="logo">AroundCards</div>
    <nav>
      <a href="../pages/index2.html">Home</a>
      <a href="index2.html#mazzi">Mazzi</a>
      <a href="../pages/about.html">Cardistry</a>
      <a href="../pages/storia.html">Storia</a>
      <a href="../pages/contact.html">Contatti</a>
      <a href="#" id="cart-icon"><i class="fas fa-shopping-cart"></i> <span id="cart-count">0</span></a>
    </nav>
  </header>
  <main class="about-main">
    <h1>La Storia della Cardistry</h1>
    <img src="../decks/silverdrop_logo.png" alt="Cardistry" style="display:block;margin:0 auto 24px auto;max-width:180px;width:100%;border-radius:16px;box-shadow:0 2px 16px #0006;">
    <p>La <b>cardistry</b> nasce come arte visiva e manipolativa delle carte da gioco, distinta dalla magia. Le sue origini risalgono agli anni '90, quando i gemelli danesi Dan & Dave Buck iniziarono a esplorare nuove tecniche di manipolazione, creando movimenti spettacolari e coreografie con le carte.</p>
    <div class="timeline">
      <div class="timeline-item">
        <div class="timeline-year">1992</div>
        <div class="timeline-desc">I primi video amatoriali di "card flourishing" iniziano a circolare tra appassionati di magia.</div>
      </div>
      <div class="timeline-item">
        <div class="timeline-year">2001</div>
        <div class="timeline-desc">Dan & Dave pubblicano "The System", il primo DVD interamente dedicato alla cardistry.</div>
      </div>
      <div class="timeline-item">
        <div class="timeline-year">2007</div>
        <div class="timeline-desc">Nasce la community online di cardistry, con forum e video-sharing.</div>
      </div>
      <div class="timeline-item">
        <div class="timeline-year">2014</div>
        <div class="timeline-desc">Si tiene il primo Cardistry-Con a Los Angeles, radunando artisti da tutto il mondo.</div>
      </div>
      <div class="timeline-item">
        <div class="timeline-year">2017</div>
        <div class="timeline-desc">La cardistry si diffonde in Asia e in Europa, nascono nuovi stili e scuole.</div>
      </div>
      <div class="timeline-item">
        <div class="timeline-year">2020</div>
        <div class="timeline-desc">La cardistry diventa fenomeno globale, con milioni di video e una community internazionale.</div>
      </div>
    </div>
    <p style="margin-top:32px;">Oggi la cardistry è riconosciuta come una vera e propria arte visiva, in continua evoluzione, che unisce creatività, tecnica e passione.</p>
  </main>
  <footer class="footer-lower">
    <p>© 2025 AroundPlayingCards.com | Tutti i diritti riservati</p>
  </footer>
  <div id="cartSidebar" class="cart-sidebar">
    <div class="cart-header">
      <h3>Il tuo carrello</h3>
      <button id="closeCart" class="close-cart-btn" aria-label="Chiudi carrello">&times;</button>
    </div>
    <div class="cart-items"></div>
    <div class="cart-footer">
      <div class="cart-total">Totale: <span id="cartTotal">€0.00</span></div>
      <button id="checkoutBtn" class="checkout-btn">Procedi all'acquisto</button>
    </div>
  </div>
  <div id="cartOverlay" class="cart-overlay"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
  <script>
    // Animazione canvas che segue il mouse
    const canvas = document.getElementById('fluid-bg');
    const ctx = canvas.getContext('2d');
    let width = canvas.width = window.innerWidth;
    let height = canvas.height = window.innerHeight;
    let t = 0;
    let mouse = {x: width/2, y: height/2};
    window.addEventListener('mousemove', e => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
    });
    function drawFluid() {
      ctx.clearRect(0, 0, width, height);
      for (let i = 0; i < 180; i++) {
        // Direzione influenzata dal mouse
        const dx = (mouse.x - width/2) * 0.12;
        const dy = (mouse.y - height/2) * 0.12;
        const x = Math.sin(i + t * 0.004) * (200 + 40*Math.sin(t*0.01)) + width / 2 + dx;
        const y = Math.cos(i + t * 0.002) * (160 + 30*Math.cos(t*0.012)) + height / 2 + dy;
        const r = Math.floor(180 + 60 * Math.sin(i * 0.13 + t * 0.02));
        const g = Math.floor(120 + 100 * Math.cos(i * 0.11 + t * 0.018));
        const b = Math.floor(200 + 40 * Math.sin(i * 0.09 + t * 0.021));
        ctx.fillStyle = `rgba(${r},${g},${b},0.13)`;
        ctx.beginPath();
        ctx.arc(x, y, 70 + 10*Math.sin(i+t*0.01), 0, Math.PI * 2);
        ctx.fill();
      }
      t++;
      requestAnimationFrame(drawFluid);
    }
    drawFluid();
    window.addEventListener('resize', () => {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
    });
    // Carrello sidebar condiviso
    const cartSidebar = document.getElementById('cartSidebar');
    const cartOverlay = document.getElementById('cartOverlay');
    const cartCountEl = document.getElementById('cart-count');
    const closeCartBtn = document.getElementById('closeCart');
    const checkoutBtn = document.getElementById('checkoutBtn');
    const cartItemsContainer = document.querySelector('.cart-items');
    const cartTotalEl = document.getElementById('cartTotal');
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    function openCart() {
      cartSidebar.classList.add('active');
      cartOverlay.classList.add('active');
    }
    function closeCart() {
      cartSidebar.classList.remove('active');
      cartOverlay.classList.remove('active');
    }
    document.getElementById('cart-icon').addEventListener('click', e => {
      e.preventDefault();
      openCart();
    });
    closeCartBtn.addEventListener('click', closeCart);
    cartOverlay.addEventListener('click', closeCart);
    function updateCartCount() {
      let count = cart.reduce((sum, item) => sum + item.qty, 0);
      cartCountEl.textContent = count;
    }
    function updateCartTotal() {
      let total = cart.reduce((sum, item) => sum + item.qty * item.price, 0);
      cartTotalEl.textContent = '€' + total.toFixed(2);
    }
    function saveCart() {
      localStorage.setItem('cart', JSON.stringify(cart));
    }
    function renderCart() {
      cartItemsContainer.innerHTML = '';
      if (cart.length === 0) {
        cartItemsContainer.innerHTML = '<p style="color:#aaa">Il carrello è vuoto.</p>';
        return;
      }
      cart.forEach((item, idx) => {
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `
          <img src="${item.img}" alt="${item.name}">
          <div class="cart-item-info">
            <div class="cart-item-title">${item.name}</div>
            <div class="cart-item-price">€${item.price.toFixed(2)}</div>
            <div class="cart-item-qty">
              <button class="qty-btn" data-idx="${idx}" data-action="dec">-</button>
              <span>${item.qty}</span>
              <button class="qty-btn" data-idx="${idx}" data-action="inc">+</button>
              <button class="remove-item-btn" data-idx="${idx}" title="Rimuovi">&times;</button>
            </div>
          </div>
        `;
        cartItemsContainer.appendChild(div);
      });
      cartItemsContainer.querySelectorAll('.qty-btn').forEach(btn => {
        btn.onclick = function() {
          const idx = +btn.dataset.idx;
          if (btn.dataset.action === 'inc') cart[idx].qty++;
          else if (btn.dataset.action === 'dec' && cart[idx].qty > 1) cart[idx].qty--;
          saveCart();
          renderCart();
          updateCartCount();
          updateCartTotal();
        };
      });
      cartItemsContainer.querySelectorAll('.remove-item-btn').forEach(btn => {
        btn.onclick = function() {
          const idx = +btn.dataset.idx;
          cart.splice(idx, 1);
          saveCart();
          renderCart();
          updateCartCount();
          updateCartTotal();
        };
      });
    }
    function addToCart(product) {
      const found = cart.find(item => item.id === product.id);
      if (found) {
        found.qty++;
      } else {
        cart.push({...product, qty: 1});
      }
      saveCart();
      renderCart();
      updateCartCount();
      updateCartTotal();
      openCart();
    }
    // Inizializzazione
    renderCart();
    updateCartCount();
    updateCartTotal();
  </script>
</body>
</html>
